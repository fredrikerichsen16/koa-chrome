!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).vueDebounce={})}(this,function(e){"use strict";function m(t,e){function n(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];clearTimeout(u),(u=setTimeout(function(){u=null,t.apply(void 0,e)},a))||t.apply(void 0,e)}var o,i,r,u=null,a="number"==typeof e?e:(o=String(e).split(/(ms|s)/i),i=o[0],void 0===(r=o[1])&&(r="ms"),Number(i)*{ms:1,s:1e3}[r]);return n.cancel=function(){clearTimeout(u),u=null},n}function i(e){return e.map(function(e){return e.toLowerCase()})}function p(e,n){var t,o=(e.getNamedItem("debounce-events")||{}).value;return void 0===o&&(o=!1),i(o?o.split(","):(t=n,Array.isArray(t)?t:null==t?[]:[t]))}function y(e){return""===e}var n={install:function(e,n){void 0===n&&(n={});var u=n.lock;void 0===u&&(u=!1);var f=n.listenTo;void 0===f&&(f="keyup");var v=n.defaultTime;void 0===v&&(v="300ms");var d=n.fireOnEmpty;void 0===d&&(d=!1);var s=n.cancelOnEmpty;void 0===s&&(s=!1),e.directive("debounce",{bind:function(n,e){var a=e.value,t=e.arg;void 0===t&&(t=v);var o=e.modifiers,c=Object.assign({fireonempty:d,cancelonempty:s,lock:u},o),i=p(n.attributes,f),l=m(function(e){a(e.target.value,e)},t);function r(e){var n,t,o,i,r,u;r=e.target.value,u=c,y(r)&&u.cancelonempty?l.cancel():(o=e.key,i=c,"Enter"===o&&(!i.lock||i.unlock)||(n=e.target.value,t=c,y(n)&&t.fireonempty)?(l.cancel(),a(e.target.value,e)):l(e))}i.forEach(function(e){n.addEventListener(e,r)})}})}};e.debounce=m,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})});
